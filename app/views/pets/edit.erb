<h1>Update Pet</h1>

 
<form action="/pets/<%=@pet.id%>" method="POST">
  <input id="hidden" type="hidden" name="_method" value="patch">  
  <label>Name:</label>
 
  <br></br>
 
  <input type="text" name="pet[name]" id="pet_name" value="<%=@pet.name%>">
 
  <br></br>
 
  <label>Choose an existing Owner:</label>
    <br></br>
  <%Owner.all.each do |owner|%>
    <input type="checkbox" name="pet[owner_id]" id="<%=owner.id%>" value="<%=owner.id%>" <%='checked' if @pet.owner.id == owner.id %>><%=owner.name%></input>
    <%end%>
  <br></br>
  <%Owner.all.each do |owner|%>
    <input type="radio" name="pet[owner_id]" id="<%=owner.id%>" value="<%=owner.id%>" <%='checked' if @pet.owner.id == owner.id %>><%=owner.name%></input>
  <%end%>
 
  <br></br>
 
  <label>and/or, create a new owner:</label>
  <br></br>
  <label>name:</label>
    <input  type="text" name="owner[name]" id="owner_name"></input>
  <br></br>
  <input type="submit" value="Update Pet">
</form>

<%# it "edit's the pet's owner with a new owner" do
      visit "/pets/#{@pet.id}/edit"
      fill_in "owner_name", :with => "Samantha"
      click_button "Update Pet"
      expect(Pet.last.owner.name).to eq("Samantha")
    end %>