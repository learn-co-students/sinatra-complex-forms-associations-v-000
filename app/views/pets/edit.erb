<h1>Update Pet</h1>

<form action="/pets/<%=@pet.id%>" method="POST">
<label>Name:</label>

<br></br>

<input type="text" name="pet[name]" id="pet_name" value="<%=@pet.name%>">

<br></br>

<label>Choose an existing owner:</label>

<br></br>

<!--we added the checked property to each checkbox with a condition
to test whether the given owner is already present in the current pet's collection of owners.-->
<%Owner.all.each do |pet|%>
  <input type="checkbox" name="pet[owner_ids][]" id="<%= owner.id%>" value="<%=owner.id%>" <%='checked' if @pet.owners.include?(pet) %>><%=owner.name%></input>
<%end%>

<br></br>

<label>and/or, create a new owner:</label>
<br></br>

<label>name:</label>
  <input  type="text" name="owner[name]" id="owner_name"></input>
<br></br>

<input type="submit" value="Update Pet">
</form>
